{
  "productCatalog": {
    "products": [
      {
        "productId": "TREAS_SWIFT_001",
        "productName": "SWIFT Direct Access",
        "productCategory": "Treasury",
        "productType": "Connectivity",
        "version": "2.0",
        "status": "active",
        "features": {
          "baseFeatures": [
            {
              "featureId": "SWIFT_MSG",
              "name": "SWIFT Messaging",
              "description": "Standard SWIFT messaging capabilities",
              "isRequired": true,
              "enrollmentModules": ["connectivity", "message_setup"]
            },
            {
              "featureId": "SWIFT_GPI",
              "name": "SWIFT GPI",
              "description": "Global Payment Innovation service",
              "isRequired": false,
              "enrollmentModules": ["gpi_setup"]
            }
          ],
          "addOnFeatures": [
            {
              "featureId": "SANCTIONS_SCREEN",
              "name": "Sanctions Screening",
              "description": "Automated sanctions screening service",
              "isRequired": false,
              "enrollmentModules": ["compliance_setup"]
            }
          ]
        },
        "eligibilityRules": {
          "companySize": {
            "minAnnualRevenue": 100000000,
            "minTransactionVolume": 10000
          },
          "geographicPresence": {
            "allowedRegions": ["NA", "EMEA", "APAC"],
            "restrictedCountries": ["sanctioned_countries"]
          },
          "creditRating": {
            "minimumRating": "BBB",
            "ratingAgencies": ["S&P", "Moodys"]
          }
        },
        "pricingRules": {
          "basePrice": {
            "setupFee": 10000,
            "monthlyFee": 5000,
            "transactionFees": {
              "messageType": {
                "MT101": 0.50,
                "MT940": 0.25
              }
            }
          },
          "volumeDiscounts": [
            {
              "threshold": 100000,
              "discountPercent": 10
            },
            {
              "threshold": 500000,
              "discountPercent": 20
            }
          ]
        }
      },
      {
        "productId": "CORP_DD_001",
        "productName": "Corporate Demand Deposit",
        "productCategory": "Deposits",
        "productType": "Account",
        "version": "1.0",
        "status": "active",
        "features": {
          "baseFeatures": [
            {
              "featureId": "DD_BASE",
              "name": "Basic Demand Deposit",
              "description": "Standard corporate checking account",
              "isRequired": true,
              "enrollmentModules": ["account_setup", "service_config"]
            },
            {
              "featureId": "DD_SWEEP",
              "name": "Automated Sweeps",
              "description": "End-of-day balance sweeping",
              "isRequired": false,
              "enrollmentModules": ["sweep_setup"]
            }
          ],
          "addOnFeatures": [
            {
              "featureId": "DD_INTEREST",
              "name": "Interest Computation",
              "description": "Tiered interest calculation",
              "isRequired": false,
              "enrollmentModules": ["interest_setup"]
            }
          ]
        },
        "accountRules": {
          "currencies": ["USD", "EUR", "GBP"],
          "interestRules": {
            "interestType": "tiered",
            "tiers": [
              {
                "minBalance": 1000000,
                "maxBalance": 4999999,
                "rate": 0.5
              },
              {
                "minBalance": 5000000,
                "rate": 0.75
              }
            ],
            "computation": {
              "basis": "daily",
              "payment": "monthly"
            }
          }
        },
        "eligibilityRules": {
          "companySize": {
            "minAnnualRevenue": 50000000,
            "minAverageBalance": 1000000
          },
          "documentation": {
            "required": [
              "boardResolution",
              "taxDocuments",
              "financialStatements"
            ]
          }
        },
        "pricingRules": {
          "basePrice": {
            "maintenanceFee": {
              "amount": 100,
              "frequency": "monthly",
              "waiverCriteria": {
                "minimumBalance": 1000000
              }
            }
          },
          "transactionFees": {
            "incomingWire": 15,
            "outgoingWire": 25,
            "stopPayment": 30
          },
          "balanceIncentives": [
            {
              "threshold": 5000000,
              "benefits": {
                "feeWaivers": ["maintenanceFee", "wireTransferFee"],
                "interestBonus": 0.25
              }
            }
          ]
        }
      }
    ]
  },
  "enrollmentWorkflow": {
    "stages": {
      "common": [
        {
          "stageId": "company_profile",
          "name": "Company Profile",
          "sequence": 1,
          "isRequired": true,
          "components": [
            {
              "componentId": "legal_entity",
              "type": "form",
              "fields": [
                {
                  "name": "legalName",
                  "type": "string",
                  "required": true,
                  "validation": "company_registry_check"
                },
                {
                  "name": "taxId",
                  "type": "string",
                  "required": true,
                  "validation": "tax_id_format"
                }
              ]
            }
          ]
        },
        {
          "stageId": "user_setup",
          "name": "User Administration",
          "sequence": 4,
          "isRequired": true,
          "components": [
            {
              "componentId": "user_matrix",
              "type": "matrix",
              "fields": [
                {
                  "name": "userName",
                  "type": "string",
                  "required": true
                },
                {
                  "name": "role",
                  "type": "enum",
                  "options": ["admin", "maker", "checker"]
                },
                {
                  "name": "approvalLimit",
                  "type": "number"
                }
              ]
            }
          ]
        }
      ],
      "swift": [
        {
          "stageId": "connectivity",
          "name": "SWIFT Connectivity",
          "sequence": 2,
          "isRequired": true,
          "components": [
            {
              "componentId": "swift_setup",
              "type": "configuration",
              "fields": [
                {
                  "name": "bicCode",
                  "type": "string",
                  "required": true,
                  "validation": "bic_format"
                },
                {
                  "name": "connectionType",
                  "type": "enum",
                  "options": ["Alliance_Lite2", "Alliance_Access", "Service_Bureau"],
                  "required": true
                }
              ]
            }
          ]
        }
      ],
      "deposits": [
        {
          "stageId": "account_setup",
          "name": "Account Setup",
          "sequence": 2,
          "isRequired": true,
          "components": [
            {
              "componentId": "account_details",
              "type": "form",
              "fields": [
                {
                  "name": "currency",
                  "type": "enum",
                  "options": ["USD", "EUR", "GBP"],
                  "required": true
                },
                {
                  "name": "statementFrequency",
                  "type": "enum",
                  "options": ["daily", "weekly", "monthly"],
                  "required": true
                }
              ]
            }
          ]
        },
        {
          "stageId": "interest_setup",
          "name": "Interest Configuration",
          "sequence": 3,
          "isRequired": false,
          "dependsOn": {
            "featureId": "DD_INTEREST",
            "isSelected": true
          },
          "components": [
            {
              "componentId": "interest_params",
              "type": "configuration",
              "fields": [
                {
                  "name": "interestDisposition",
                  "type": "enum",
                  "options": ["capitalize", "transfer"],
                  "required": true
                }
              ]
            }
          ]
        }
      ]
    },
    "validations": {
      "dependencies": [
        {
          "if": {
            "featureId": "SWIFT_GPI",
            "isSelected": true
          },
          "then": {
            "requiredStages": ["gpi_setup"]
          }
        },
        {
          "if": {
            "productCategory": "Deposits",
            "features": {
              "includes": "DD_SWEEP"
            }
          },
          "then": {
            "requiredStages": ["sweep_setup"]
          }
        }
      ]
    }
  },
  "integrations": {
    "coreBanking": {
      "endpoints": {
        "customerCreate": "/api/v1/customer",
        "accountSetup": "/api/v1/account",
        "interestSetup": "/api/v1/deposits/interest"
      },
      "mappings": {
        "customerId": "${legalEntity.customerNumber}",
        "accountNumber": "${generated.accountId}"
      }
    },
    "documentManagement": {
      "templates": {
        "serviceAgreement": {
          "SWIFT": "SWIFT_SERVICE_AGREEMENT_V1",
          "Deposits": "DEPOSIT_ACCOUNT_AGREEMENT_V1"
        },
        "pricing": {
          "SWIFT": "SWIFT_PRICING_SCHEDULE",
          "Deposits": "DEPOSIT_PRICING_SCHEDULE"
        }
      },
      "mappings": {
        "companyName": "${legalEntity.name}",
        "serviceLevels": "${selected.features}"
      }
    }
  }
}
